# Default values for trickster.

# Put ints in quotes to ensure they aren't converted to scientific notations.
# See https://github.com/kubernetes/helm/issues/1707

# Default trickster originURL, references a source Prometheus instance
# Ref: https://github.com/Comcast/trickster/blob/master/docs/configuring.md
caches:
  - name: default
    type: memory
    compression: true
    timeSeriesTTLSecs: "21600"
    fastforwardTTLSecs: "15"
    objectTTLSecs: "30"
    index:
      reapIntervalSecs: "3"
      flushIntervalSecs: "5"
      maxSizeBytes: "536870912"
      maxSizeBackoffBytes: "16777216"
      maxSizeObjects: "0"
      maxSizeBackoffObjects: "100"
    redis:
      protocol: tcp
      endpoint: redis:6379
      password: ''
    redis_cluster:
      endpoints: ['redis:6379']
      password: ''
    filesystem:
      path: /tmp/trickster
    bbolt:
      file: trickster.db
      bucket: trickster

origins:
  - name: default
    type: prometheus
    scheme: http
    host: 'prometheus:9090'
    pathPrefix: ''
    timeoutSecs: "180"
    apiPath: /api/v1
    ignoreNoCacheHeader: false
    # 24h
    maxValueAgeSecs: "86400"
    fastForwardDisable: false
    backfillToleranceSecs: "180"

logLevel: info
profiler:
  enabled: false
  port: 6060

# Number of trickster replicas desired
replicaCount: 1

# image for trickster deplyoment
image:
  repository: tricksterio/trickster
  tag: 1.0.0
  pullPolicy: IfNotPresent

# Service resource for trickster deplyoment
# Ref: https://kubernetes.io/docs/concepts/services-networking/service/
service:
  type: ClusterIP
  port: 9090
  # nodePort: 0
  metricsPort: 8080
  # metricsNodePort: 0

# Ingress resource for trickster service
# Ref : https://kubernetes.io/docs/concepts/services-networking/ingress/
ingress:
  enabled: false
  annotations: {}
    # kubernetes.io/ingress.class: nginx
    # kubernetes.io/tls-acme: "true"
  path: /
  hosts:
    - chart-example.local
  tls: []
  #  - secretName: chart-example-tls
  #    hosts:
  #      - chart-example.local

# Resource limits & requests
# Ref: https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/
resources: {}
  # limits:
  #  cpu: 100m
  #  memory: 128Mi
  # requests:
  #  cpu: 100m
  #  memory: 128Mi

# Node labels for pod assignment
# Ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#nodeselector
nodeSelector: {}

# Tolerations for pod assignment
# Ref: https://kubernetes.io/docs/concepts/configuration/taint-and-toleration/
tolerations: []

# Affinity for pod assignment
# Ref: https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#affinity-and-anti-affinity
affinity: {}
