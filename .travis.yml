env:
  GO111MODULE: "on"

matrix:
  include:
  - language: python
    install:
    - pip install codespell
    script:
    - codespell --skip="vendor,*.git,*.png,*.pdf,*.tiff,*.plist,*.pem,rangesim*.go,*.gz"

  - language: go
    go:
    - "1.14.x"
    - master
    before_install:
    - go get github.com/mattn/goveralls
    - go mod vendor
    script:
    - make style test build
    - sed -i -e '/^.*_gen\.go:.*$/d' .coverprofile
    - $GOPATH/bin/goveralls  -coverprofile=.coverprofile -service=travis-ci
